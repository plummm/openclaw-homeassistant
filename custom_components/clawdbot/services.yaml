tools_invoke:
  name: Invoke an OpenClaw Gateway tool (advanced)
  description: Advanced/admin action. Calls a single tool via the OpenClaw Gateway /tools/invoke endpoint. Prefer dedicated services when available.
  fields:
    tool:
      required: true
      selector:
        text: {}
    args:
      required: false
      selector:
        object: {}

ha_get_states:
  name: List Home Assistant entity states
  description: Lists states locally inside Home Assistant and shows results in a persistent notification (warning: can be noisy/spammy).
  fields: {}

ha_call_service:
  name: Call a Home Assistant service (guardrailed)
  description: Calls a limited allowlist of HA services locally. This is a safe subset vs tools_invoke. (Allowlist is defined in custom_components/clawdbot/__init__.py handle_ha_call_service.)
  fields:
    domain:
      required: true
      selector:
        text: {}
    service:
      required: true
      selector:
        text: {}
    entity_id:
      required: false
      selector:
        entity: {}
    service_data:
      required: false
      selector:
        object: {}

set_connection_overrides:
  name: Save/apply connection overrides
  description: Persist gateway_url/token/session_key overrides to HA storage and apply immediately.
  fields:
    gateway_url:
      required: false
      selector:
        text: {}
    token:
      required: false
      selector:
        text: {}
    session_key:
      required: false
      selector:
        text: {}

reset_connection_overrides:
  name: Reset connection overrides
  description: Clear stored overrides and revert to YAML defaults.
  fields: {}

set_mapping:
  name: Set core signal mapping
  description: Save entity_id mapping for soc/voltage/solar/load.
  fields:
    mapping:
      required: true
      selector:
        object: {}

journal_append:
  name: Append to agent journal
  description: Append a journal entry; updates OpenClaw automation sensors/events.
  fields:
    text:
      required: true
      selector:
        text: {}
    title:
      required: false
      selector:
        text: {}
    mood:
      required: false
      selector:
        text: {}

journal_list:
  name: List journal entries
  description: Return recent journal entries from HA storage.
  fields:
    limit:
      required: false
      default: 20
      selector:
        number:
          min: 1
          max: 200

agent_prompt:
  name: Process a natural-language prompt (via Assist)
  description: Routes text through Home Assistant Assist (conversation.process) and updates OpenClaw automation entities/events.
  fields:
    text:
      required: true
      selector:
        text: {}
    language:
      required: false
      selector:
        text: {}
    agent_id:
      required: false
      selector:
        text: {}
    conversation_id:
      required: false
      selector:
        text: {}

tts_vibevoice_health:
  name: VibeVoice TTS health
  description: Check whether the VibeVoice TTS provider is configured and reachable.
  fields: {}

tts_vibevoice:
  name: Generate VibeVoice TTS audio
  description: Generates TTS audio and returns a same-origin audio_url served by HA. If media_player_entity_id is provided, also calls media_player.play_media to play it.
  fields:
    text:
      required: true
      selector:
        text: {}
    format:
      required: false
      default: mp3
      selector:
        select:
          options:
            - mp3
            - wav
    media_player_entity_id:
      required: false
      selector:
        entity:
          domain: media_player
